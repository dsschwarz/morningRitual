<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Morning Ritual</title>

    <script src="lib/underscore.js"></script>
    <script src="lib/jquery-1.11.1.js"></script>
    <script src="lib/d3.js"></script>
    <script src="lib/bootstrap-3.3.6-dist/js/bootstrap.js"></script>
    <script src="util.js"></script>

    <script src="engine.js"></script>
    <script src="card.js"></script>
    <script src="playerEngine.js"></script>
    <script src="supportingClasses.js"></script>

    <script src="main.js"></script>

    <link rel="stylesheet" href="style.css"/>
    <link rel="stylesheet" href="lib/bootstrap-3.3.6-dist/css/bootstrap.css"/>
    <link rel="stylesheet" href="lib/bootstrap-3.3.6-dist/css/bootstrap-theme.css"/>
    <script src="/socket.io/socket.io.js"></script>


    <script>
        var socket = io();
        var player = null;
        socket.once("begin", function (players) {
            $(".stage3").show();
            $(".stage2").hide();
            var game = new Game(players, socket, player);
            var gameInterface = new GameInterface(game);
            gameInterface.render();
        });

        $(document).ready(function () {
            $(".stage2").hide();
            $(".stage3").hide();

            $(".joinButton").click(function () {
                socket.once("joined", function (pData) {
                    player = pData;
                    alert("Welcome, " + pData.name + "!");
                    $(".stage2").show();
                });
                socket.emit("join", prompt("What's your name?"));
                $(".stage1").hide();
            });

            $(".beginButton").click(function () {
                socket.emit("requestStart");
                $(".stage2").hide();
            });


        });
    </script>

</head>
<body>

<div class="actions">
    <button class="btn joinButton stage1">Join</button>
    <button class="btn beginButton stage2">Begin</button>
    <button class="btn deckButton stage3">Draw Card</button>
    <div class="playerList">

    </div>
</div>
<div class="stage3">
    <h2>Common Area</h2>
    <svg id="common-area" width="800" height="200">
        <g class="card-container"></g>
    </svg>
</div>
<div class="stage3">
    <h2>Device</h2>
    <svg id="machine-area" width="800" height="500">
        <g class="card-container"></g>
    </svg>
</div>


</body>
</html>